<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Horario</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="main-header">
            <h1>üìÖ Mi Horario Semanal</h1>
            <p class="subtitle">Organiza tu semana de forma profesional</p>
            <div class="action-buttons-header">
                <button id="exportJsonBtn" class="btn-export">üìÑ Exportar</button>
                <button id="importJsonBtn" class="btn-import">üìÖ Importar</button>
                <input type="file" id="importJsonFile" accept=".json" style="display: none;">
                <button id="downloadBtn" class="btn-download">‚¨áÔ∏è Descargar</button>
                <button id="clearBtn" class="btn-clear">üóëÔ∏è Limpiar</button>
            </div>
        </header>
        
        <div class="main-grid">
            <aside class="controls">
                <h2 id="formTitle">‚ûï Nueva Clase</h2>
                <form id="classForm">
                    <input type="hidden" id="editingIndex" value="-1">
                    <div class="form-group">
                        <label for="className">üìö Materia/Grupo</label>
                        <input type="text" id="className" placeholder="Ej: Matem√°ticas" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="teacher">üë®‚Äçüè´ Profesor (opcional)</label>
                        <input type="text" id="teacher" placeholder="Ej: Dr. Garc√≠a">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="color">üé® Color</label>
                            <div class="color-picker-wrapper">
                                <input type="color" id="color" value="#007AFF">
                                <div class="color-presets">
                                    <button type="button" class="color-preset" data-color="#007AFF" style="background: #007AFF"></button>
                                    <button type="button" class="color-preset" data-color="#5856D6" style="background: #5856D6"></button>
                                    <button type="button" class="color-preset" data-color="#FF3B30" style="background: #FF3B30"></button>
                                    <button type="button" class="color-preset" data-color="#FF9500" style="background: #FF9500"></button>
                                    <button type="button" class="color-preset" data-color="#34C759" style="background: #34C759"></button>
                                    <button type="button" class="color-preset" data-color="#00B4D8" style="background: #00B4D8"></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="room">üö™ Aula (opcional)</label>
                            <input type="text" id="room" placeholder="Ej: 301">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="startTime">‚è∞ Inicio</label>
                            <input type="time" id="startTime" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="endTime">‚è∞ Fin</label>
                            <input type="time" id="endTime" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>üìÜ D√≠as de la semana</label>
                        <div class="days-selector">
                            <label class="day-checkbox"><input type="checkbox" value="Lun"><span>L</span></label>
                            <label class="day-checkbox"><input type="checkbox" value="Mar"><span>M</span></label>
                            <label class="day-checkbox"><input type="checkbox" value="Mi√©"><span>X</span></label>
                            <label class="day-checkbox"><input type="checkbox" value="Jue"><span>J</span></label>
                            <label class="day-checkbox"><input type="checkbox" value="Vie"><span>V</span></label>
                            <label class="day-checkbox"><input type="checkbox" value="S√°b"><span>S</span></label>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-add" id="submitBtn">‚ú® Agregar Clase</button>
                    <button type="button" class="btn-cancel" id="cancelBtn" style="display: none;">‚ùå Cancelar</button>
                </form>
                
                <div class="classes-list">
                    <h3>üìã Clases agregadas</h3>
                    <div id="classList" class="list-container">
                        <p class="empty-state">No hay clases a√∫n</p>
                    </div>
                </div>
            </aside>
            
            <main class="schedule-container">
                <div class="schedule-header-editable" id="scheduleHeaderContainer">
                    <h2 contenteditable="true" id="scheduleTitle" class="schedule-title" spellcheck="false">üìÖ Mi Horario Semanal</h2>
                    <p class="schedule-subtitle" contenteditable="true" id="scheduleSubtitle" spellcheck="false">Haz clic para editar</p>
                </div>
                
                <div id="schedule" class="schedule">
                    <!-- El horario se generar√° aqu√≠ -->
                </div>
            </main>

            <aside id="settingsPanel" class="settings-panel">
                <h2>‚öôÔ∏è Opciones</h2>
                <div class="settings-content">
                    
                    <div class="settings-section">
                        <h4>üìè Tama√±os</h4>
                        <div class="settings-grid">
                            <div class="setting-group">
                                <label for="cellHeight">Altura de celdas (px)</label>
                                <input type="range" id="cellHeight" min="30" max="100" value="40" step="5">
                                <span id="cellHeightValue">40px</span>
                            </div>
                            <div class="setting-group">
                                <label for="fontSize">Tama√±o de fuente</label>
                                <input type="range" id="fontSize" min="8" max="16" value="11" step="1">
                                <span id="fontSizeValue">11px</span>
                            </div>
                            <div class="setting-group">
                                <label for="cellPadding">Espaciado interno</label>
                                <input type="range" id="cellPadding" min="1" max="8" value="2" step="1">
                                <span id="cellPaddingValue">2px</span>
                            </div>
                            <div class="setting-group">
                                <label for="headerSize">Tama√±o encabezados</label>
                                <input type="range" id="headerSize" min="10" max="18" value="13" step="1">
                                <span id="headerSizeValue">13px</span>
                            </div>
                            <div class="setting-group">
                                <label for="timeColumnWidth">Ancho columna hora</label>
                                <input type="range" id="timeColumnWidth" min="60" max="120" value="80" step="5">
                                <span id="timeColumnWidthValue">80px</span>
                            </div>
                            <div class="setting-group">
                                <label for="borderRadius">Redondeo esquinas</label>
                                <input type="range" id="borderRadius" min="0" max="12" value="6" step="1">
                                <span id="borderRadiusValue">6px</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>üé® Colores</h4>
                        <div class="settings-grid">
                            <div class="setting-group">
                                <label for="scheduleTitleBgColor">Color fondo t√≠tulo horario</label>
                                <input type="color" id="scheduleTitleBgColor" value="#f5f5f7">
                            </div>
                            <div class="setting-group">
                                <label for="titleColor">Color del t√≠tulo</label>
                                <input type="color" id="titleColor" value="#1C1C1E">
                            </div>
                            <div class="setting-group">
                                <label for="subtitleColor">Color del subt√≠tulo</label>
                                <input type="color" id="subtitleColor" value="#8E8E93">
                            </div>
                            <div class="setting-group">
                                <label for="titleShadowColor">Color sombra t√≠tulo</label>
                                <input type="color" id="titleShadowColor" value="#000000">
                            </div>
                            <div class="setting-group">
                                <label for="titleShadowBlur">Desenfoque sombra</label>
                                <input type="range" id="titleShadowBlur" min="0" max="20" value="4" step="1">
                                <span id="titleShadowBlurValue">4px</span>
                            </div>
                            <div class="setting-group">
                                <label for="titleShadowOpacity">Opacidad sombra</label>
                                <input type="range" id="titleShadowOpacity" min="0" max="100" value="15" step="5">
                                <span id="titleShadowOpacityValue">15%</span>
                            </div>
                            <div class="setting-group">
                                <label for="headerColorStart">Encabezados (inicio)</label>
                                <input type="color" id="headerColorStart" value="#667eea">
                            </div>
                            <div class="setting-group">
                                <label for="headerColorEnd">Encabezados (fin)</label>
                                <input type="color" id="headerColorEnd" value="#764ba2">
                            </div>
                            <div class="setting-group">
                                <label for="timeColumnColorStart">Columna hora (inicio)</label>
                                <input type="color" id="timeColumnColorStart" value="#f8f9fa">
                            </div>
                            <div class="setting-group">
                                <label for="timeColumnColorEnd">Columna hora (fin)</label>
                                <input type="color" id="timeColumnColorEnd" value="#e9ecef">
                            </div>
                            <div class="setting-group">
                                <label for="cellBackgroundColor">Fondo de celdas</label>
                                <input type="color" id="cellBackgroundColor" value="#ffffff">
                            </div>
                            <div class="setting-group">
                                <label for="scheduleBgColor">Fondo de horario</label>
                                <input type="color" id="scheduleBgColor" value="#f8f9fa">
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h4>üñºÔ∏è Fondo de Imagen</h4>
                        <div class="settings-grid">
                            <div class="setting-group full-width">
                                <label for="backgroundImageInput">Seleccionar imagen</label>
                                <input type="file" id="backgroundImageInput" accept="image/*">
                                <p class="setting-help">Carga una imagen para el fondo del horario</p>
                            </div>
                            <div class="setting-group">
                                <label for="bgOpacity">Opacidad de fondo</label>
                                <input type="range" id="bgOpacity" min="0" max="100" value="100" step="5">
                                <span id="bgOpacityValue">100%</span>
                            </div>
                            <div class="setting-group">
                                <label for="bgBlur">Desenfoque de fondo</label>
                                <input type="range" id="bgBlur" min="0" max="20" value="0" step="1">
                                <span id="bgBlurValue">0px</span>
                            </div>
                            <div class="setting-group">
                                <label for="bgPosition">Posici√≥n de imagen</label>
                                <select id="bgPosition">
                                    <option value="center">Centro</option>
                                    <option value="top">Superior</option>
                                    <option value="bottom">Inferior</option>
                                    <option value="left">Izquierda</option>
                                    <option value="right">Derecha</option>
                                    <option value="top left">Superior Izquierda</option>
                                    <option value="top right">Superior Derecha</option>
                                    <option value="bottom left">Inferior Izquierda</option>
                                    <option value="bottom right">Inferior Derecha</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label for="bgSize">Tama√±o de imagen</label>
                                <select id="bgSize">
                                    <option value="cover">Cubrir</option>
                                    <option value="contain">Contener</option>
                                    <option value="100% 100%">Estirar</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <label for="bgRepeat">Repetir imagen</label>
                                <select id="bgRepeat">
                                    <option value="no-repeat">No repetir</option>
                                    <option value="repeat">Repetir</option>
                                    <option value="repeat-x">Repetir X</option>
                                    <option value="repeat-y">Repetir Y</option>
                                </select>
                            </div>
                            <div class="setting-group">
                                <button type="button" id="removeBackgroundBtn" class="btn-danger">üóëÔ∏è Remover imagen</button>
                            </div>
                        </div>
                    </div>

                    <div class="settings-section">
                        <h4>‚ú® Efectos Visuales</h4>
                        <div class="settings-grid">
                            <div class="setting-group">
                                <label for="textShadow">Sombra de texto</label>
                                <input type="checkbox" id="textShadow" class="toggle-checkbox">
                            </div>
                            <div class="setting-group">
                                <label for="cellShadow">Sombra de celdas</label>
                                <input type="checkbox" id="cellShadow" class="toggle-checkbox">
                            </div>
                            <div class="setting-group">
                                <label for="glassMorphism">Efecto cristal</label>
                                <input type="checkbox" id="glassMorphism" class="toggle-checkbox" checked>
                            </div>
                            <div class="setting-group">
                                <label for="boldText">Texto en negrita</label>
                                <input type="checkbox" id="boldText" class="toggle-checkbox">
                            </div>
                            <div class="setting-group">
                                <label for="cellBorder">Bordes de celdas</label>
                                <input type="checkbox" id="cellBorder" class="toggle-checkbox" checked>
                            </div>
                            <div class="setting-group">
                                <label for="animationEnabled">Animaciones</label>
                                <input type="checkbox" id="animationEnabled" class="toggle-checkbox" checked>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-actions">
                        <button id="resetSettings" class="btn-reset">‚Ü∫ Restaurar</button>
                    </div>
                </div>
            </aside>
        </div>
    </div>
    
    <footer class="app-footer">
        <p>Desarrollado con ‚ô•Ô∏è por <strong>Jos√© Luciano Mej√≠a Arias</strong></p>
        <p class="footer-year">2026</p>
    </footer>
    
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
